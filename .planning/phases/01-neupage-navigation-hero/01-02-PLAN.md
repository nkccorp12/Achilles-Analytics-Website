---
phase: 01-neupage-navigation-hero
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/pages/NeuPage.jsx
  - src/pages/NeuPage.css
autonomous: false

must_haves:
  truths:
    - "User can tap and drag on the laser section to reveal the background image on touch devices"
    - "Hero section displays without margin overlap on short mobile screens (e.g., 667px height)"
    - "Hero CTAs stack vertically and are centered on mobile viewports"
    - "Laser section uses dynamic viewport height so it does not get cut off by mobile browser chrome"
  artifacts:
    - path: "src/pages/NeuPage.jsx"
      provides: "Pointer event handlers on laser section replacing mouse-only handlers"
      contains: "onPointerMove"
    - path: "src/pages/NeuPage.css"
      provides: "Responsive hero margin-top, dvh fallback on laser section, mobile CTA stacking"
      contains: "100dvh"
  key_links:
    - from: "src/pages/NeuPage.jsx"
      to: "src/pages/NeuPage.css"
      via: "Pointer events set CSS custom properties --mx/--my on reveal image"
      pattern: "onPointerMove|onPointerLeave"
    - from: "src/pages/NeuPage.css"
      to: "src/pages/NeuPage.css"
      via: "Mobile media query adjusts hero margin-top from -40vh to -30vh"
      pattern: "margin-top.*-30"
---

<objective>
Add touch support for the laser reveal effect and fix hero section responsive spacing for mobile viewports.

Purpose: The laser reveal image currently uses onMouseMove/onMouseLeave which do not fire on touch devices — mobile users cannot interact with the reveal effect. The hero section's -40vh margin-top causes overlap on short mobile screens. The laser section uses 100vh which is cut off by mobile browser chrome.

Output: Updated NeuPage.jsx with pointer events replacing mouse events on the laser section, updated NeuPage.css with responsive hero margin-top, dvh viewport fallback, and verified CTA stacking.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-neupage-navigation-hero/01-RESEARCH.md
@.planning/phases/01-neupage-navigation-hero/01-01-SUMMARY.md
@src/pages/NeuPage.jsx
@src/pages/NeuPage.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace mouse events with pointer events on laser section and fix responsive CSS</name>
  <files>src/pages/NeuPage.jsx, src/pages/NeuPage.css</files>
  <action>
**In NeuPage.jsx — Laser section (around lines 150-168):**

Replace `onMouseMove` with `onPointerMove` and `onMouseLeave` with `onPointerLeave` on the `.neu__laser` section element. The handler logic stays identical — only the event names change. This ensures touch devices fire these events.

Change:
```jsx
onMouseMove={(e) => {
```
To:
```jsx
onPointerMove={(e) => {
```

Change:
```jsx
onMouseLeave={() => {
```
To:
```jsx
onPointerLeave={() => {
```

No other JSX changes needed. The LaserFlow component already uses pointer events internally on its canvas — this change makes the REVEAL IMAGE (the radial gradient mask) work on touch too.

**In NeuPage.css — Laser section height:**

Update `.neu__laser` to add dvh fallback:
```css
.neu__laser {
  position: relative;
  height: 100vh;
  height: 100dvh;
  overflow: hidden;
  background-color: var(--black);
}
```

The second `height: 100dvh` overrides in browsers that support it; older browsers fall back to `100vh`.

**In NeuPage.css — Inside the existing `@media (max-width: 640px)` block, add:**

```css
.neu-hero {
  margin-top: -30vh;
  margin-top: -30dvh;
}

.neu-hero__content {
  padding: 32px 0;
}

.neu-hero__sub {
  margin-bottom: 32px;
}
```

This reduces the hero overlap from -40vh to -30vh on mobile, preventing content from being pushed too far up on short screens. The content padding and sub margin are also reduced to fit better on mobile viewports.

**Verify existing CTA stacking:** The existing `@media (max-width: 640px)` block already has `.neu-hero__ctas { flex-direction: column; }` and `.neu-hero__cta { text-align: center; justify-content: center; }`. Confirm these rules are still present after Plan 01 edits. If they were accidentally removed, re-add them. Also add `width: 100%` to `.neu-hero__cta` at 640px so the CTAs span full width when stacked:

```css
.neu-hero__cta {
  text-align: center;
  justify-content: center;
  width: 100%;
}
```
  </action>
  <verify>
Run `npm run build` — no errors.

Open dev server and test:
1. At 360px width: Hero section does not overlap awkwardly with content above
2. CTAs stack vertically and span full width
3. Use Chrome DevTools "Toggle device toolbar" with touch simulation — tap and drag on laser section should reveal background image through radial gradient mask
4. At desktop width: hover-to-reveal still works exactly as before
5. No visual regressions on desktop layout
  </verify>
  <done>Pointer events replace mouse events on laser section (touch devices can reveal image), hero margin-top reduced on mobile, laser section uses dvh with vh fallback, CTAs stack and center on mobile.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify mobile navigation and hero on real/simulated device</name>
  <what-built>
Complete Phase 1 mobile fixes:
- Hamburger menu with slide-out nav panel (from Plan 01)
- Touch-enabled laser reveal effect
- Responsive hero spacing for short mobile screens
- Stacked CTAs on mobile
- Reduced header wordmark spacing
- Dynamic viewport height on laser section
  </what-built>
  <how-to-verify>
1. Open the dev server URL in browser
2. Open Chrome DevTools, toggle device toolbar, select "iPhone SE" (375x667)
3. Verify hamburger icon appears in header (3 lime-green lines)
4. Tap hamburger — slide-out nav panel appears from right with smooth animation
5. Tap "Case Study" link — menu closes and page scrolls to use cases section
6. Scroll back up — tap hamburger, verify X-animation on icon
7. Switch to touch simulation mode in DevTools
8. Tap and drag on the laser/beam section — background image should be revealed through the radial gradient mask following your finger
9. Verify hero headline, subtext, and CTAs are readable and not overlapping with the laser section above
10. Verify "Access Platform" and "Reach Out" CTAs stack vertically with full width
11. Switch to desktop width (1200px) — verify hamburger disappears, inline nav links return, hover-to-reveal works, hero layout is unchanged
  </how-to-verify>
  <resume-signal>Type "approved" if everything looks correct, or describe any issues you see.</resume-signal>
</task>

</tasks>

<verification>
1. `npm run build` passes without errors
2. Touch reveal works on simulated touch device (Chrome DevTools device mode)
3. Hero section does not overlap on iPhone SE viewport (375x667)
4. CTAs stack vertically and span full width on mobile
5. Laser section uses 100dvh (inspect computed styles)
6. Desktop layout has zero visual regressions
</verification>

<success_criteria>
- HERO-01 satisfied: Touch support works for laser reveal via pointer events
- HERO-02 satisfied: Hero margin-top reduced to -30vh/-30dvh on mobile, no overlap on short screens
- HERO-03 satisfied: CTAs stack vertically, centered, full-width on mobile
- Laser section uses dvh with vh fallback
- Human verification confirms all 6 requirements (NAV-01 through HERO-03) work together
</success_criteria>

<output>
After completion, create `.planning/phases/01-neupage-navigation-hero/01-02-SUMMARY.md`
</output>
